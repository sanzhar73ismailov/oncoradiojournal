<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<title>title</title>
</head>
<body>

<input id="inp" value="Привет!"> 

<textarea id="txt">1234
5
6
789
12</textarea>


<input type="button" onclick="met2Func ()" value="Go"> 

<script>  
function mFunc () { 
	document.getElementById ('inp').focus ();

	if (navigator.userAgent.indexOf ('MSIE') > 0) with (document.selection.createRange ()) {
		moveStart ('character', 3); 
		moveEnd ('character', 3); 
		select ()
	} else {
		document.getElementById ('inp').setSelectionRange (3, 6); 
	}
}

function met2Func () { 
	var txtAreaElement = document.getElementById ('txt');
	var text = txtAreaElement.value;
	//str = str.replace(/\r?\n/g, " ");
	var indexMatches = getMatchIndexes(text,"\n")
	for(var i=0; i < indexMatches.length; i++){
	txtAreaElement.setSelectionRange (indexMatches[i]-1, indexMatches[i]);
	}
    txtAreaElement.focus ();
	console.log(indexMatches);

	if (navigator.userAgent.indexOf ('MSIE') > 0) with (document.selection.createRange ()) {
		moveStart ('character', 3); 
		moveEnd ('character', 3); 
		select ()
	} else {
		//document.getElementById ('inp').setSelectionRange (3, 6); 
	}
}

function getMatchIndexes(str, toMatch) {
    var toMatchLength = toMatch.length,
        indexMatches = [], 
		match,
        i = 0;

    while ((match = str.indexOf(toMatch, i)) > -1) {
        indexMatches.push(match);
        i = match + toMatchLength;
    }

    return indexMatches;
}
</script>

</body>
</html>